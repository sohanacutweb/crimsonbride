var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,r,k){l!=Array.prototype&&l!=Object.prototype&&(l[r]=k.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(l,r,k,p){if(r){k=$jscomp.global;l=l.split(".");for(p=0;p<l.length-1;p++){var n=l[p];n in k||(k[n]={});k=k[n]}l=l[l.length-1];p=k[l];r=r(p);r!=p&&null!=r&&$jscomp.defineProperty(k,l,{configurable:!0,writable:!0,value:r})}};
$jscomp.polyfill("Math.hypot",function(l){return l?l:function(l,k,p){l=Number(l);k=Number(k);var n,m=Math.max(Math.abs(l),Math.abs(k));for(n=2;n<arguments.length;n++)m=Math.max(m,Math.abs(arguments[n]));if(1E100<m||1E-100>m){if(!m)return m;l/=m;k/=m;var e=l*l+k*k;for(n=2;n<arguments.length;n++){var f=Number(arguments[n])/m;e+=f*f}return Math.sqrt(e)*m}e=l*l+k*k;for(n=2;n<arguments.length;n++)f=Number(arguments[n]),e+=f*f;return Math.sqrt(e)}},"es6","es3");
function fla_v2_masonry_slider(l,r){function k(a){function b(a){switch(a.type){case "mouseenter":d.selector.style.opacity="1";break;case "mouseleave":d._selected||(d.selector.style.opacity="0")}}var d=this;this.delegate=a;this.appName=a.appName;this.item=void 0;this.view=document.createElement("div");this.view.className="fla_v2_ScrollBarItem";e.miniScreen&&this.view.classList.add("miniScreen");this.bgImg=document.createElement("div");this.bgImg.className="fla_v2_ScrollBarItemBg";this.view.appendChild(this.bgImg);
this.imgSRC=void 0;this.selector=document.createElement("div");this.selector.className="fla_v2_ScrollBarItemHover";this.selector.style.borderColor=f(this.appName).sliderThumbBarHoverColor;this.view.appendChild(this.selector);this._selected=!1;this.view.addEventListener("mouseenter",b,!1);this.view.addEventListener("mouseleave",b,!1)}function p(a){this.delegate=a;this.appName=a.appName;this.itemsList=[];this.thumbSize=e.Size(100,80);this.view=document.createElement("div");this.view.className="fla_v2_TermScrollBarWrap";
e.miniScreen&&this.view.classList.add("miniScreen");this.scrollView=document.createElement("div");this.scrollView.className="fla_v2_ScrollView";this.scrollView.style.width="0px";this.view.appendChild(this.scrollView);this.thumbsList=[];this._scrollWidth=this.itemsInStageCount=0;this.dragging=this.viewCompleted=!1;this.scrollViewTranslateX=0;this.activAudioIndex=this.activIndex=this.startDragHandler=void 0}function n(a){this.delegate=a;this.id=this.item=void 0;this.appName=a.appName;this.itemIndex=
void 0;this.positionIndex=0;this.view=document.createElement("div");this.view.className="fla_v2_SliderPage";this.itemInner=document.createElement("div");this.itemInner.className="fla_sliderPage_inner";this.view.appendChild(this.itemInner);this.iconHolder=document.createElement("div");this.iconHolder.className="fla_iconHolder";this.preloader=e.createPreloaderView(e.hexToRgbaStrin(f(this.appName).sliderPreloaderColor,1));this.preloader.style.display="none";this.view.appendChild(this.preloader);this.view.appendChild(this.iconHolder);
f(this.appName).key||(a=f(this.appName).tv.cloneNode(!0),a.style.left="50%",a.style.top="50%",a.style.transform="translateX(-50%) translateY(-50%)",a.style.transform="translateX(-50%) translateY(-50%)",a.style.zIndex="999999",this.view.appendChild(a));this.size=e.Size(0,0);this.imgSize=e.Size(0,0);this._imageFrame=e.Rect(0,0,0,0);this.maxYoffset=this.maxXoffset=this.height=this.width=0;this.MaxScale=4;this.newScaleMW=this.newScale=this.scale=this.imgScale=1;this._viewTranslate=e.Point(0,0);this.origin=
e.Point(0,0);this.animaSliderRender=this.boundingBoxScale=this.boundingBox=void 0;this.newY=this.oldY=this.newX=this.oldX=this.speedY=this.speedX=0;this.isBlockDragingMem=this.isBlockDraging=this.draging=!1;this.startDistForZoom=this.startGlobalPoint=this.startScale=void 0}function m(a){this.delegate=a;this.appName=this.delegate.appName;this.id=this.appName+"sliderAView_";this.itemsList=void 0;this.visibleBounds=e.Rect(0,0,0,0);this.needHideControlls=this.isControllsShow=!1;this.firsrTap=void 0;this.removing=
!1;this.intitByTermDelay=this.createlayoutDelay=void 0;this.view=document.createElement("div");this.view.className="fla_v2_ColectionSlider";e.Device.desktop||(this.view.style.height="100%");this.view.id=this.id+"main";this.resizeDelay=void 0;this.size=e.Size(0,0);a=document.createElement("div");a.className="fla_SliderBg";a.style.backgroundColor=f(this.appName).sliderBgColor;this.background=a;this.view.appendChild(a);this.sliderPages=[];this.zoomingDrag=this.dragging=!1;this._scrollViewTranslateY=
this._scrollViewTranslateX=this.speedY=this.speedX=0;this.currentItemIndex=this.startDragHandler=void 0;this.startItemIndex=0;this.items=[];this.itemsAmount=0;this.animaSliderRender=this.zoomingPage=this.pageInFocusPrev=this.pageInFocus=this._itemNum=void 0;this.slider=document.createElement("div");this.slider.className="fla_v2_SlidesWrap";this.view.appendChild(this.slider);this.footer=document.createElement("div");this.footer.className="fla_v2_SlidesFooter";this.footer.style.backgroundImage="linear-gradient(180deg,"+
e.hexToRgbaStrin(f(this.appName).sliderHeaderFooterBgColor,0)+","+e.hexToRgbaStrin(f(this.appName).sliderHeaderFooterBgColor,1)+")";this.view.appendChild(this.footer);this.header=document.createElement("div");this.header.className="fla_v2_SlidesHeader";this.header.style.backgroundImage="linear-gradient(0deg,"+e.hexToRgbaStrin(f(this.appName).sliderHeaderFooterBgColor,0)+","+e.hexToRgbaStrin(f(this.appName).sliderHeaderFooterBgColor,1)+")";e.miniScreen&&this.header.classList.add("fla_v2_SlidesHeaderMiniScreen");
this.view.appendChild(this.header);this.copyR=this.copyRight();this.createControlls();this.addToStage()}var e=r,f=e.moduleSettings,A=e.trace,q=e.cancelAnimationFrame,t=e.requestAnimationFrame,v=e.passiveListener;k.prototype={initByItem:function(a){this.item=a;this.imgSRC=a.itemViewThumbSrc;this.bgImg.style.backgroundImage="url("+this.imgSRC+")";this.type=a.type;if("audio"==this.type||"video"==this.type){this.hover=document.createElement("div");this.hover.className="fla_v2_ScrollBarItemLink";this.hover.style.backgroundColor=
e.hexToRgbaStrin("#ffffff",.6);switch(this.type){case "audio":this.hover.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
break;case "video":"vimeo"==this.item.mime_type.split("/")[1]?this.hover.innerHTML='<svg enable-background="new 0 0 56.693 56.693" height="56.693px" id="Layer_1" version="1.1" viewBox="-5 -5 66.693 66.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.602,22.974l2.01,2.636c0,0,4.146-3.267,5.528-1.634c1.382,1.634,6.656,21.357,8.417,24.997  c1.537,3.192,5.777,7.413,10.426,4.397c4.646-3.014,20.098-16.205,22.863-31.781c2.764-15.574-18.594-12.313-20.854,1.256  c5.652-3.395,8.671,1.38,5.778,6.784c-2.889,5.399-5.527,8.921-6.908,8.921c-1.379,0-2.441-3.612-4.021-9.928  c-1.635-6.53-1.624-18.291-8.416-16.958C12.019,12.921,3.602,22.974,3.602,22.974z"/></svg>':
this.hover.innerHTML='<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M21.80731,7.805a2.79915,2.79915,0,0,0-2.54907-2.53906C17.69061,5.13586,15.36707,5,12.50012,5c-3.45251,0-6.05865.14105-7.74353.27332A2.79932,2.79932,0,0,0,2.1925,7.815C2.08936,8.90021,2,10.33344,2,12.0423c0,1.66632.08862,3.07422.19128,4.14594a2.79852,2.79852,0,0,0,2.56384,2.53833C6.43994,18.85883,9.04657,19,12.50012,19c2.86694,0,5.19049-.13586,6.75812-.266a2.799,2.799,0,0,0,2.54907-2.539C21.91052,15.11548,22,13.69189,22,12S21.91052,8.88452,21.80731,7.805ZM9.77594,14.93878V9.06122L15.574,12Z"/></svg>'}this.view.appendChild(this.hover)}},
set musicIdentifireStatus(a){},select:function(a){this.selector.style.opacity=a?"1":"0";this._selected=a}};p.prototype={initItemsList:function(a){this.itemsList=a;a=new k(this);this.scrollView.appendChild(a.view);this.thumbSize.width=a.view.clientWidth;this.thumbSize.height=a.view.clientHeight;this.scrollView.removeChild(a.view);this.prepare();this.view.style.height=this.scrollView.style.height=this.thumbSize.height+"px";this._scrollWidth=this.thumbSize.width*this.itemsList.length;this.scrollView.style.width=
this._scrollWidth+5+"px";this.scrollViewTranslateX=0;this.updateView()},addThumbByIndex:function(a){function b(a){"touchend"!=a.type&&"mouseup"!=a.type||d.dragging||(d.delegate.gotoPageByNum(parseInt(this.getAttribute("fla_Index"))),d.startDragHandler&&d.startDragHandler())}if(!this.thumbsList[a]){var d=this,c=new k(this);this.thumbsList[a]=c;this.itemsInStageCount+=1;e.is_touch_device&&c.view.addEventListener("touchend",b,!1);c.view.addEventListener("mouseup",b,!1);c.view.style.left=this.thumbSize.width*
a+"px";this.scrollView.appendChild(c.view);c.initByItem(this.itemsList[a]);c.view.setAttribute("fla_Index",a)}},changeAudioStatusForIndex:function(a,b){!this.activAudioIndex&&0!==this.activAudioIndex||a==this.activAudioIndex||(this.thumbsList[this.activAudioIndex].musicIdentifireStatus="ended");this.thumbsList[a].musicIdentifireStatus=b.type;this.activAudioIndex=a},prepare:function(){this._scrollWidth=0;this.scrollView.style.transform="translateX(0px)";this.scrollView.style.width="0px";this._scrollViewTranslateX=
0},resize:function(){this.updateView()},selectThumbByIndex:function(a){if(void 0!==a&&0!=this.itemsList.length){var b;(this.activIndex||0===this.activIndex)&&(b=this.thumbsList[this.activIndex])&&b.select(!1);this.thumbsList[a]||this.addThumbByIndex(a);if(b=this.thumbsList[a]){b.select(!0);b=this.thumbSize.width*a;var d=b+this.scrollViewTranslateX,c=d+this.thumbSize.width;this.scrollView.style.transition="none";if(0>d||0>c)this.scrollView.style.transition="transform .4s",this.scrollViewTranslateX=
-b;if(d>this.view.clientWidth||c>this.view.clientWidth)this.scrollView.style.transition="transform .4s",this.scrollViewTranslateX=this.view.clientWidth-this.thumbSize.width-b;this._scrollWidth>this.view.clientWidth&&(this.scrollViewTranslateX=Math.max(this.scrollViewTranslateX,-(this._scrollWidth-this.view.clientWidth)))}this.activIndex=a}},updateView:function(){this.selectThumbByIndex(this.activIndex);1>this.view.clientWidth/this._scrollWidth?(this.scrollViewTranslateX=this._scrollViewTranslateX,
this.viewCompleted||(this.scrollView.classList.add("fla_grabbable"),this.startDragHandler=this.startDrag(),e.is_touch_device&&this.scrollView.addEventListener("touchstart",this.startDragHandler,v),this.scrollView.addEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!0)):(this.scrollView.classList.remove("fla_grabbable"),this.scrollViewTranslateX=(this.view.clientWidth-this._scrollWidth)/2,this.viewCompleted&&(e.is_touch_device&&this.scrollView.removeEventListener("touchstart",
this.startDragHandler,v),this.scrollView.removeEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!1))},set scrollViewTranslateX(a){this._scrollViewTranslateX=a;this.scrollView.style.transform="translateX("+a+"px)";if(this.itemsList.length!=this.itemsInStageCount){var b=Math.max(Math.floor(-a/this.thumbSize.width),0);for(a=Math.min(b+Math.ceil(this.view.clientWidth/this.thumbSize.width),this.itemsList.length-1);b<=a;b++)this.addThumbByIndex(b)}},get scrollViewTranslateX(){return this._scrollViewTranslateX},
startDrag:function(a){function b(){return-(h._scrollWidth-h.view.clientWidth+h.view.getBoundingClientRect().left)}function d(){u=0<h.scrollViewTranslateX?.2*u+.1*(0-h.scrollViewTranslateX):h.scrollViewTranslateX<b()?.2*u+.1*(b()-h.scrollViewTranslateX):.95*u;h.scrollViewTranslateX+=u;.04>Math.abs(u)?q(m):m=t(d)}function c(a){a.preventDefault();if(a=f-(a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX))h.dragging=!0;h.scrollViewTranslateX=l-a;k=n;n=h.scrollViewTranslateX;u=n-k}function g(a){a.preventDefault();
h.scrollView.style.transition=null;e.is_touch_device&&(document.removeEventListener("touchmove",c,v),document.removeEventListener("touchend",g,v),document.removeEventListener("touchcancel",g,!1));document.removeEventListener("mousemove",c,!1);document.removeEventListener("mouseup",g,!1);document.removeEventListener("oncontextmenu",g,!1);if(0!=u||0<h.scrollViewTranslateX||h.scrollViewTranslateX<b())m=t(d);h.dragging=!1}var h=this,f=void 0,l=void 0,u=0,k=0,n=0,m=void 0;return function(a){a?(e.is_touch_device||
a.preventDefault(),a.button&&0!==a.button||(u=0,n=h.scrollViewTranslateX,f=a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX,l=h.scrollViewTranslateX,q(m),e.is_touch_device&&(document.addEventListener("touchmove",c,v),document.addEventListener("touchend",g,v),document.addEventListener("touchcancel",g,!1)),document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",g,!1),document.addEventListener("oncontextmenu",g,!1))):(u=0,l=h.scrollViewTranslateX,q(m))}}};n.prototype={initByItem:function(a){if(this.id!=
a.ID){var b=this;this.item=a;this.id=a.ID;1!=this.scale&&(this.scale=1,this.viewTranslate=e.Point(0,0));this.itemInner.firstChild&&this.itemInner.removeChild(this.itemInner.firstChild);this.itemInner.appendChild(a.webView);this.itemImg=a.webView;a.webView.complete?(this.imgSize.width=this.itemImg.naturalWidth,this.imgSize.height=this.itemImg.naturalHeight,this.isInScale&&this.normalize(),this.fit(!1)):(this.preloader.style.display="block",a.webView.addEventListener("load",function(){b.preloader.style.display=
"none";b.imgSize.width=this.naturalWidth;b.imgSize.height=this.naturalHeight;b.isInScale&&b.normalize();b.fit(!1)},!1));switch(a.type){case "audio":this.iconHolder.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
this.view.classList.add("info_icon");break;case "video":this.view.classList.add("info_icon");this.iconHolder.innerHTML='<svg version="1.1" viewBox="0 0 50 60" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M48.479,27.435L5.672,0.915C2.553-1.132,0,0.374,0,4.261v51.48c0,3.885,2.553,5.391,5.672,3.346l42.807-26.52   c0,0,1.521-1.07,1.521-2.566S48.479,27.435,48.479,27.435z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
this.iconHolder.firstChild.style.marginLeft="7px";break;default:this.view.classList.remove("info_icon")}}},set posX(a){this.view.style.left=this.size.width*a+"px";this.positionIndex=a},resize:function(){this.size.width=this.view.clientWidth;this.size.height=this.view.clientHeight;this.posX=this.positionIndex;this.isInScale&&this.normalize();this.fit(!1)},fit:function(a){if(this.itemImg){a=0;f(this.appName).sliderThumbBarEnable&&700<this.size.height&&(a=100);!f(this.appName).sliderThumbBarEnable&&
700<this.size.height&&(a=48);"video"==this.item.type&&(a=40);var b=e.getFrameForBoxWithMode(this.imgSize,e.Size(this.size.width-4,this.size.height-2*a),!1,!1);b.x+=2;b.y+=a;this.imgScale=Math.min(this.imgSize.width/b.width,this.MaxScale);this.item.webImgFrame.x!=b.x||this.item.webImgFrame.y!=b.y||this.item.webImgFrame.width!=b.width||this.item.webImgFrame.height!=b.height?(this.imageFrame=b,this.item.webImgFrame=b):this._imageFrame=b;this.videoWrap&&(this.videoWrapFrame=b)}},set imageFrame(a){this.itemImg.style.left=
a.x+"px";this.itemImg.style.top=a.y+"px";this.itemImg.style.width=a.width+"px";this.itemImg.style.height=a.height+"px";this._imageFrame=a},get imageFrame(){return this._imageFrame},set videoWrapFrame(a){this.videoWrap.style.width=a.width+"px";this.videoWrap.style.height=a.height+"px";this.videoWrap.style.left=a.x+"px";this.videoWrap.style.top=a.y+"px"},checkOffset:function(a,b){if(b!==this.boundingBoxScale){var d=this.imageFrame.width*(b?b:1),c=this.imageFrame.height*(b?b:1),g=this.imageFrame.x*(b?
b:1),h=this.imageFrame.y*(b?b:1);this.boundingBox={left:d>this.size.width?-g:(this.size.width-this.size.width*b)/2,top:c>this.size.height?-h:(this.size.height-this.size.height*b)/2,right:d>this.size.width?this.size.width-(g+d):(this.size.width-this.size.width*b)/2,bottom:c>this.size.height?this.size.height-(h+c):(this.size.height-this.size.height*b)/2};this.boundingBoxScale=b}b=a.x>this.boundingBox.left?this.boundingBox.left:a.x;b=b<this.boundingBox.right?this.boundingBox.right:b;a=a.y>this.boundingBox.top?
this.boundingBox.top:a.y;a=a<this.boundingBox.bottom?this.boundingBox.bottom:a;return e.Point(b,a)},is_pointInItem:function(a){var b=this.viewTranslate.x+this.size.width/2*this.newScale-this.imageFrame.width/2*this.newScale,d=b+this.imageFrame.width*this.newScale,c=this.size.height/2*this.newScale+this.viewTranslate.y-this.imageFrame.height/2*this.newScale,e=c+this.imageFrame.height*this.scale;return a.x>b&&a.x<d&&a.y>c&&a.y<e?!0:!1},normalize:function(a){q(this.animaSliderRender);a?this.renderTransformTo(e.Point(0,
0),1):(this.scale=this.newScale=this.newScaleMW=1,this.viewTranslate=e.Point(0,0),this.origin=e.Point(0,0))},get isInScale(){return 1==this.newScale&&0==this.origin.x&&0==this.origin.y?!1:!0},zoomIn:function(a,b){"audio"!=this.item.type&&"video"!=this.item.type&&(q(this.animaSliderRender),b=e.Point(b.x-(b.x-this.viewTranslate.x)/this.scale*a,b.y-(b.y-this.viewTranslate.y)/this.scale*a),this.renderTransformTo(this.checkOffset(b,a),a))},zoomByScaleIter:function(a,b){"audio"!=this.item.type&&"video"!=
this.item.type&&(a=0>a?1.065:.935,q(this.animaSliderRender),this.newScale*a>this.MaxScale&&(a=this.MaxScale/this.newScale),1>this.newScale*a&&(a=1/this.newScale),this.newScale*=a,this.origin=e.Point(b.x-a*(b.x-this.origin.x),b.y-a*(b.y-this.origin.y)),this.renderTransformTo(this.checkOffset(this.origin,this.newScale),this.newScale))},zoomByScaleDeltaToPoint:function(a,b,d){if("audio"!=this.item.type&&"video"!=this.item.type){q(this.animaSliderRender);a=this.startDistForZoom/this.startScale*(a/this.startDistForZoom)/
(this.startDistForZoom/this.startScale)*this.startScale;d=0;a>this.MaxScale&&(d=.8*-(a-this.MaxScale));a+=d;d=this.startGlobalPoint.x-(this.startGlobalPoint.x-this.startTranslate.x)/this.newScale*a;var c=this.startGlobalPoint.y-(this.startGlobalPoint.y-this.startTranslate.y)/this.newScale*a;b=e.Point(d-b.x,c-b.y);this.scale=this.newScale=a;this.viewTranslate=b;this.startTranslate=e.Point(d,c)}},set viewTranslate(a){this._viewTranslate=a;this.itemInner.style.transform="matrix("+this.scale+", 0, 0, "+
this.scale+", "+a.x+", "+a.y+")"},get viewTranslate(){return this._viewTranslate},renderTransformTo:function(a,b){function d(){g=.05*g+.1*(a.x-c.viewTranslate.x);h=.05*h+.1*(a.y-c.viewTranslate.y);b&&(f=.05*f+.1*(b-c.scale));var l=c.viewTranslate.x;l+=g;var k=c.viewTranslate.y;k+=h;b&&(c.scale+=f);c.viewTranslate=e.Point(l,k);.02>Math.abs(g)&&.02>Math.abs(h)&&.02>Math.abs(f)?(q(c.animaSliderRender),b&&(c.scale=b),c.viewTranslate=e.Point(a.x,a.y)):c.animaSliderRender=t(d)}var c=this;q(c.animaSliderRender);
this.origin=a;this.newScale=b;var g=0,h=0,f=0;c.animaSliderRender=t(d)},renderGlidingTransform:function(){function a(){b.speedX*=d;b.speedY*=c;var g=b.viewTranslate.x;g+=b.speedX;var h=b.viewTranslate.y;h+=b.speedY;if(g>b.boundingBox.left||g<b.boundingBox.right)b.speedX*=-1,g=(g>b.boundingBox.left?b.boundingBox.left:g<b.boundingBox.right?b.boundingBox.right:g)+b.speedX,d=.75;if(h>b.boundingBox.top||h<b.boundingBox.bottom)b.speedY*=-1,h=(h>b.boundingBox.top?b.boundingBox.top:h<b.boundingBox.bottom?
b.boundingBox.bottom:h)+b.speedY,c=.75;b.origin=e.Point(g,h);b.viewTranslate=e.Point(g,h);.02>Math.abs(b.speedX)&&.02>Math.abs(b.speedY)?(q(b.animaSliderRender),b.speedX=0,b.speedY=0):b.animaSliderRender=t(a)}var b=this;q(b.animaSliderRender);var d=.95,c=.95;b.animaSliderRender=t(a)},renderStretchstretchTransform:function(){function a(){c=.2*c+.15*(d.x-b.viewTranslate.x);g=.2*g+.15*(d.y-b.viewTranslate.y);b.viewTranslate=e.Point(b.viewTranslate.x+c,b.viewTranslate.y+g);.02>Math.abs(c)&&.02>Math.abs(g)?
(q(b.animaSliderRender),b.viewTranslate=d):b.animaSliderRender=t(a)}var b=this;q(b.animaSliderRender);var d=this.checkOffset(e.Point(b.viewTranslate.x+b.speedX,b.viewTranslate.y+b.speedY),b.scale),c=0,g=0;b.animaSliderRender=t(a)},startDrag:function(a,b){q(this.animaSliderRender);"audio"!=this.item.type&&"video"!=this.item.type&&(this.startDistForZoom=b,this.startGlobalPoint=a,this.startTranslate=this.viewTranslate,this.speedY=this.speedX=0,this.newX=this.viewTranslate.x,this.newY=this.viewTranslate.y,
this.startScale=this.scale)},stopDrag:function(){if("audio"!=this.item.type&&"video"!=this.item.type){if(this.isInScale)if(1>this.scale)this.normalize(!0);else if(this.scale>this.MaxScale)this.zoomIn(this.MaxScale,this.startGlobalPoint);else{var a=this.checkOffset(this.origin,this.newScale);(this.isBlockDraging=a.x!=this.origin.x||a.y!=this.origin.y)&&this.renderStretchstretchTransform()}this.draging&&(this.isBlockDraging?this.renderStretchstretchTransform():this.renderGlidingTransform(),this.draging=
!1)}},dragin:function(a){if("audio"==this.item.type||"video"==this.item.type)return!1;var b=this.startTranslate.x-a.x;a=this.startTranslate.y-a.y;var d=this.checkOffset(e.Point(b,a),this.newScale);this.isBlockDraging=d.x!=b||d.y!=a;var c=a-d.y;b-=.7*(b-d.x);a-=.7*c;this.oldX=this.newX;this.newX=b;this.speedX=.7*(this.newX-this.oldX);this.oldY=this.newY;this.newY=a;this.speedY=.7*(this.newY-this.oldY);this.origin=e.Point(b,a);this.viewTranslate=e.Point(b,a);return this.draging=!0},get isSubContentActiv(){return this.videoWrap?
!0:!1},action:function(a){if(this.item)switch(a){case "click":if("video"==this.item.type){if(this.videoWrap)return this.removeVideoContent(),"videoStop";this.view.classList.add("video_play");this.view.classList.remove("info_icon");this.addVideoContent();return"videoPlay"}if("audio"==this.item.type)return this.tryPlayOrPauseMp3(),"audioPlay";break;case "removeSubContent":if("video"==this.item.type)return this.removeVideoContent(),"videoStop";"audio"==this.item.type&&this.audioPlayer&&!this.audioPlayer.paused&&
(this.audioPlayer.pause(),this.iconHolder.firstChild.classList.remove("fla_AlbusListRotate"))}},addVideoContent:function(){var a=this.item.mime_type.split("/")[1];if(a)switch(this.videoWrap||(this.videoWrap=document.createElement("div"),this.videoWrap.className="fla_video_wrap",this.videoWrapFrame=this.imageFrame,this.itemInner.appendChild(this.videoWrap),this.view.appendChild(this.delegate.closeButton)),a){case "youtube":this.videoWrap.innerHTML=e.youTubeCode.replace("%id%",this.item.videoId);break;
case "vimeo":this.videoWrap.innerHTML=e.vimeoCode.replace("%id%",this.item.videoId)}},removeVideoContent:function(){this.videoWrap&&(this.delegate.buttonsBox.appendChild(this.delegate.closeButton),this.view.classList.remove("video_play"),this.videoWrap.parentNode&&this.videoWrap.parentNode.removeChild(this.videoWrap),this.videoWrap=void 0,this.view.classList.remove("video_play"),"image"!=this.item.type&&this.view.classList.add("info_icon"))},tryPlayOrPauseMp3:function(){if("audio"==this.item.type){if(!this.audioPlayer){if(!document.getElementById("fla_AudioPlayer"))return;
this.audioPlayer=document.getElementById("fla_AudioPlayer")}this.audioPlayer.src==this.item.url?this.audioPlayer.paused?(this.audioPlayer.play(),this.iconHolder.firstChild.classList.add("fla_AlbusListRotate")):(this.audioPlayer.pause(),this.iconHolder.firstChild.classList.remove("fla_AlbusListRotate")):(this.audioPlayer.src=this.item.url,this.audioPlayer.play(),this.iconHolder.firstChild.classList.add("fla_AlbusListRotate"))}}};m.prototype={get viewOfsetY(){return this.view.getBoundingClientRect().top-
document.body.getBoundingClientRect().top},get viewOfsetX(){return this.view.getBoundingClientRect().left-document.body.getBoundingClientRect().left},copyRight:function(a){var b=this,d=void 0;return function(a){if(!e.Device.ios||"mouseup"!=a.type){var c=void 0,h=void 0;a.changedTouches&&a.changedTouches[0]?(c=a.changedTouches[0].pageX,h=a.changedTouches[0].pageY):(c=a.pageX,h=a.pageY);c-=b.viewOfsetX;h-=b.viewOfsetY;var l=b.itemsList[b.itemIndex];if(l.webView&&l.webView==a.target){a.preventDefault();
var k=document.getElementById("fla_copyr");k&&(clearTimeout(d),k.parentNode.removeChild(k),k=null);k=document.createElement("div");k.id="fla_copyr";k.className="fla_v2_hints";k.innerHTML=f(b.appName).copyR_Alert;k.style.top=h+"px";k.style.left=c+"px";b.view.appendChild(k);d=setTimeout(function(){k.parentNode.removeChild(k)},1E3)}}}},addToStage:function(){var a=this,b=document.getElementsByTagName("body")[0];document.getElementsByTagName("html");this.view.style.zIndex=e.findHighestZIndex(b)+1;e.disableBodyScrollSlider();
document.addEventListener("keydown",a.deHandler(),!0);document.addEventListener("contextmenu",a.copyR,!1);f(this.appName).appEventManager.addGMEventListener("FULLSCREEN_SWITCH",this,"fullscreenSwitch");b.appendChild(this.view);setTimeout(function(){a.view.classList.add("fla_v2_ColectionSliderActivate")},30)},intitByTerm:function(a,b){b&&(this.startItemId=b);this.term=a;var d=this;f(d.appName).appEventManager.addGMEventListener("COLLECTION_DATA_REDY",d,"dataLoaded");this.intitByTermDelay=setTimeout(function(){d.showPreloader(!0);
e.request(JSON.stringify({library:a.query}),d,"COLLECTION_DATA_REDY")},300)},dataLoaded:function(a){if(a=a.params.data){try{var b=JSON.parse(a);b.key&&""!=b.key?f(this.appName).key=b.key:(f(this.appName).tv=document.createElement("div"),f(this.appName).tv.style.position="absolute",f(this.appName).tv.style.height="24px",f(this.appName).tv.innerHTML='<a href="http://bit.ly/2snVAca" style="background-color: rgba(0, 0, 0, 0.8) !important;position: relative !important;left: auto!important;right: auto!important;top: auto!important;bottom: auto!important;width:auto!important;height:auto!important;text-indent:0!important;overflow:visible!important;display:block!important;padding: 4px 10px!important;margin:0 0 -3em 0!important;font-size:14px!important;line-height:120%!important;color:#FFFFFF!important;font-weight:bold!important;visibility:visible!important;opacity:1!important;pointer-events:auto!important;transform:none!important;">Trial version - Gmedia WP Plugin</a>');
b.data&&this.addItemsToCollection(b.data)}catch(d){A(d)}this.showPreloader(!1)}},addItemsToCollection:function(a){for(var b=[],d=0,c=0;c<a.length;c++){var g=e.Item(a[c],this.appName);this.startItemId&&g.ID==this.startItemId&&(d=c);b.push(g)}this.term.itemsList=b;this.initByList(this.term.itemsList,d)},initByList:function(a,b){if(a&&0<a.length){var d=this;this.currentItemIndex=b&&0!==b?0:void 0;this.startItemIndex=b?b:0;this.itemsList=a;this.createlayoutDelay=setTimeout(function(){d.createLayout()},
400)}},prepareToRemove:function(){if(!this.removing){clearTimeout(this.createlayoutDelay);clearTimeout(this.intitByTermDelay);var a=this.scrollViewTranslateY/(this.size.height/2);this.pageInFocus&&this.pageInFocus.isSubContentActiv&&.2>a?"videoStop"==this.pageInFocus.action("click")&&(this.switchShowControlls(),this.needHideControlls=!this.isControllsShow):(this.removing=!0,e.cacherItemsList.init(),f(this.appName).appEventManager.removeGMEventListener("COLLECTION_DATA_REDY",this,"dataLoaded"),window.removeEventListener("wheel",
this.handlerMWheel,!1),document.removeEventListener("keydown",this.handlerKB,!0),document.removeEventListener("contextmenu",this.copyR,!1),f(this.appName).appEventManager.removeGMEventListener("FULLSCREEN_SWITCH",this,"fullscreenSwitch"),this.delegate.itemsCountersUpdate(),this.subMenu&&this.showSubmenu&&(this.subMenu.style.transition="0s",this.needShowSubmenu(!1)),e.enableBodyScrollSlider(),this.view.classList.remove("fla_v2_ColectionSliderActivate"),document.getElementById("fla_AudioPlayer")&&document.getElementById("fla_AudioPlayer").pause(),
f(this.appName).appEventManager.dispatchGMEvent(e.GMEvent("REMOVE_LIGHTBOX",this)))}},deHandler:function(a){var b=this;b.handlerKB=function(a){if(b.startDragHandler||27==a.keyCode)switch(a.keyCode){case 37:b.gotoPrev();break;case 39:b.gotoNext();break;case 27:if(b.delegate.modal){b.delegate.modal.prepareToRemove();break}b.prepareToRemove();break;case 32:if(b.delegate.modal)b.delegate.modal.prepareToRemove();else return b.switchShowControlls(),b.needHideControlls=!b.isControllsShow,e.preventDefault(a),
!1}};return b.handlerKB},showPreloader:function(a){var b=void 0;a?document.getElementById(this.appName+"slider_preloader")||(b=e.createPreloaderView(e.hexToRgbaStrin(f(this.appName).sliderPreloaderColor,.7)),b.id=this.appName+"slider_preloader",this.view.appendChild(b)):(b=document.getElementById(this.appName+"slider_preloader"))&&e.fadeOut(b,function(){b&&b.parentNode&&b.parentNode.removeChild(b)},500)},createLayout:function(){var a=this;this.itemsAmount=this.itemsList.length;this.size=e.Size(a.view.clientWidth,
a.view.clientHeight);e.miniScreen&&this.slider.classList.add("miniScreen");500>a.size.width&&(this.prevButton.classList.add("sliderNextPrevButtonsMiniScreen"),this.nextButton.classList.add("sliderNextPrevButtonsMiniScreen"));this.initSlider();this.thumbsBar&&(this.thumbsBar.initItemsList(this.itemsList),this.thumbsBar.selectThumbByIndex(this.itemIndex));700>a.size.height&&this.slider.classList.add("miniScreen");window.addEventListener("wheel",a.mouseWheelHandler(),!1);setTimeout(function(){a.showControlls(!0)},
500)},set itemIndex(a){this._itemNum=a;this.updateControlls()},get itemIndex(){return this._itemNum},initSlider:function(){var a;if(0==this.sliderPages.length)for(a=0;3>a;a++){var b=new n(this);this.slider.appendChild(b.view);this.sliderPages.push(b);b.resize()}var d=2<this.itemsAmount?-1:0;for(a=0;3>a;a++)b=this.sliderPages[a],b.posX=d,b.itemIndex=void 0,d+=1;this.startDragHandler?this.gotoPageByNum(0):(this.startDragHandler=this.startDrag(),this.slider.addEventListener("touchstart",this.startDragHandler,
v),this.slider.addEventListener("mousedown",this.startDragHandler,!1),this.gotoPageByNum(this.startItemIndex))},set scrollViewTranslateY(a){this._scrollViewTranslateY=a;this.slider.style.transform="translate3d("+this.scrollViewTranslateX+"px,"+a+"px, 0px";0!=a&&this.sliderVerticalRender()},get scrollViewTranslateY(){return this._scrollViewTranslateY},set scrollViewTranslateX(a){this._scrollViewTranslateX=a;this.slider.style.transform="translate3d("+a+"px,"+this.scrollViewTranslateY+"px, 0px";this.pageRenderByIndex(-Math.round(a/
this.size.width))},get scrollViewTranslateX(){return this._scrollViewTranslateX},sliderVerticalRender:function(){var a=1-Math.abs(this.scrollViewTranslateY)/(this.size.height/2);this.background.style.opacity=a;this.needHideControlls||(.8>a?this.showControlls(!1):this.showControlls(!0))},tryOpenItemID:function(a){for(var b=0;b<this.term.itemsList.length;b++)if(this.term.itemsList[b].ID==a)return this.gotoPageByNum(b),!0;return!1},gotoPageByNum:function(a){!this.itemIndex&&0!==this.itemIndex||!this.currentItemIndex?
this.gotoPageByIndex(a,!0):this.gotoPageByIndex(this.currentItemIndex-(this.itemIndex-a))},gotoNext:function(){this.gotoPageByIndex(this.currentItemIndex+1)},gotoPrev:function(){this.gotoPageByIndex(this.currentItemIndex-1)},renderTransformTo:function(a){function b(){c=.2*c+.15*(a.x-d.scrollViewTranslateX);e=.2*e+.15*(a.y-d.scrollViewTranslateY);d.scrollViewTranslateX+=c;d.scrollViewTranslateY+=e;1>Math.abs(c)&&1>Math.abs(e)&&(d.dragging=!1);.1>Math.abs(c)&&.1>Math.abs(e)?(q(d.animaSliderRender),
d.scrollViewTranslateX=a.x,d.scrollViewTranslateY=a.y,d.sliderTransitionComplete({target:d.slider})):d.animaSliderRender=t(b)}var d=this;q(d.animaSliderRender);var c=5*d.speedX,e=5*d.speedY;d.animaSliderRender=t(b)},gotoPageByIndex:function(a,b){3>this.itemsAmount&&(a=Math.max(0,a),a=Math.min(this.itemsAmount-1,a));2<Math.abs(this.currentItemIndex-a)&&(b=!0);a=-a*this.size.width;b?(this.scrollViewTranslateX=a,this.sliderTransitionComplete({target:this.slider})):this.renderTransformTo(e.Point(a,this.scrollViewTranslateY))},
pageRenderByIndex:function(a){if(this.currentItemIndex!==a){void 0!==this.pageInFocus&&(this.pageInFocusPrev=this.pageInFocus,this.pageInFocus.isInScale&&(this.zoomingPage=this.pageInFocus));var b;if(3>this.itemsAmount){for(b=0;b<this.itemsAmount;b++)this.sliderPages[b].initByItem(this.itemsList[b]);this.pageInFocus=this.sliderPages[a];this.itemIndex=this.currentItemIndex=a}else{var d=(a+1)%3;0>d&&(d+=3);var c=0<=d-1?d-1:2,e=3>d+1?d+1:0,h=[c,d,e],f=[a-1,a,a+1];for(b=0;b<h.length;b++)this.sliderPages[h[b]].posX=
f[b];this.currentItemIndex=a;this.pageInFocus=this.sliderPages[d];this.itemIndex=0>a?this.itemsAmount+(0==a%this.itemsAmount?-this.itemsAmount:a%this.itemsAmount):a%this.itemsAmount;this.sliderPages[d].initByItem(this.itemsList[this.itemIndex]);this.sliderPages[e].initByItem(this.itemIndex+1<this.itemsAmount?this.itemsList[this.itemIndex+1]:this.itemsList[0]);this.sliderPages[c].initByItem(0>this.itemIndex-1?this.itemsList[this.itemsAmount-1]:this.itemsList[this.itemIndex-1])}}},sliderTransitionComplete:function(a){a.target==
this.slider&&(a=e.cacherItemsList.status(),(a.list!==this.itemsList||a.list===this.itemsList&&this.itemIndex>=a.index)&&e.cacherItemsList.init(this.itemsList,this.itemIndex,5),void 0!==this.pageInFocusPrev&&this.pageInFocusPrev.action("removeSubContent"),void 0!==this.zoomingPage&&this.zoomingPage!==this.pageInFocus&&this.zoomingPage.normalize())},mouseWheelHandler:function(a){var b=this,d=0,c=0,g=void 0;b.handlerMWheel=function(a){a.stopPropagation();var f=e.Point(0,0);if("deltaX"in a)1===a.deltaMode?
(f.x=18*a.deltaX,f.y=18*a.deltaY):(f.x=a.deltaX,f.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(f.x=-.16*a.wheelDeltaX),f.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)f.y=a.detail;else return;var h=b.size.width/2,k=b.size.height/2;a.pageX&&(h=a.pageX,k=a.pageY);h-=b.viewOfsetX;k-=b.viewOfsetY;if(!b.dragging){g!==b.pageInFocus&&(g=void 0);b.zoomingPage&&b.zoomingPage!==b.pageInFocus&&(b.zoomingPage.normalize(),b.zoomingPage=void 0);g||(b.needHideControlls=b.isControllsShow,
g=b.zoomingPage=b.pageInFocus);if(h!=d||k!=c)g.startDrag(e.Point(h,k)),d=h,c=k;g.zoomByScaleIter(f.y,e.Point(h,k));g.isInScale?b.showControlls(!1):(b.showControlls(b.needHideControlls),g=void 0)}};return b.handlerMWheel},doubleClickController:function(a){if(!e.Device.ios||"mouseup"!=a.type){var b=void 0,d=void 0;a.changedTouches&&a.changedTouches[0]?(b=a.changedTouches[0].pageX,d=a.changedTouches[0].pageY):(b=a.pageX,d=a.pageY);b-=this.viewOfsetX;d-=this.viewOfsetY;var c=this.pageInFocus.is_pointInItem(e.Point(b,
d)),g=this;this.firsrTap?(clearTimeout(this.firsrTap),this.firsrTap=void 0,c&&(this.pageInFocus.isInScale?(g.showControlls(g.needHideControlls),this.pageInFocus.normalize(!0),this.zoomingPage=void 0):(this.zoomingPage&&this.zoomingPage.normalize(),this.zoomingPage=this.pageInFocus,this.zoomingPage.zoomIn(.3>Math.abs(this.zoomingPage.imgScale-1)?1.5:this.zoomingPage.imgScale,e.Point(b,d)),this.zoomingPage.isInScale&&(g.needHideControlls=g.isControllsShow,g.showControlls(!1))))):this.firsrTap=setTimeout(function(){g.firsrTap=
void 0;if(c||e.miniScreen)if(g.pageInFocus.isInScale)g.pageInFocus.normalize(!0),g.showControlls(g.needHideControlls),g.zoomingPage=void 0;else switch(g.pageInFocus.action("click")){case "videoPlay":g.showControlls(!1);g.needHideControlls=!g.isControllsShow;break;case "videoStop":g.switchShowControlls();g.needHideControlls=!g.isControllsShow;break;default:g.switchShowControlls(),g.needHideControlls=!g.isControllsShow}else g.prepareToRemove()},300)}},startDrag:function(a){function b(a){a.originalEvent&&
(a=a.originalEvent);a.preventDefault();if(a.touches)if(!c.dragging&&1<a.touches.length){p=!0;var b=a.touches[0].pageX;var d=a.touches[0].pageY;var g=a.touches[1].pageX;a=a.touches[1].pageY;var h=Math.hypot(b-g,d-a);b+=(g-b)/2;d+=(a-d)/2}else p=!1,b=a.touches[0].pageX,d=a.touches[0].pageY;else b=a.pageX,d=a.pageY;b-=z;d-=t;if(!(e.Device.ios&&20>=f))if(void 0===m&&(d===k?m=!1:(g=180*Math.atan2(Math.abs(d-k),Math.abs(b-f))/Math.PI,m=45<g)),!c.dragging&&c.zoomingPage){g=4<Math.abs(f-b)?f-b:0;a=4<Math.abs(k-
d)?k-d:0;if(g||a)c.zoomingDrag=!0;p?c.pageInFocus.zoomByScaleDeltaToPoint(h,e.Point(g,a),e.Point(b,d)):c.zoomingPage&&c.zoomingPage.dragin(e.Point(g,a))}else if(m){w=0;if(b=4<Math.abs(k-d)?k-d:0)c.dragging=!0;c.scrollViewTranslateY=n-b}else{c.transition=!0;if(b=4<Math.abs(f-b)?f-b:0)c.dragging=!0;c.scrollViewTranslateX=l-b;y=x;x=c.scrollViewTranslateX;w=x-y}}function d(a){a.preventDefault();m=void 0;e.is_touch_device&&(document.removeEventListener("touchmove",b,v),document.removeEventListener("touchend",
d,v));document.removeEventListener("mousemove",b,!1);document.removeEventListener("mouseup",d,!1);document.removeEventListener("oncontextmenu",d,!1);c.dragging||p||c.zoomingDrag?(c.zoomingPage?(c.zoomingPage.stopDrag(),p=!1):4>Math.abs(c.scrollViewTranslateY)?(a=c.currentItemIndex,Math.abs(w)>(e.is_touch_device?7:3)&&g==c.currentItemIndex&&(a=0<w?a-1:a+1),c.speedX=w,c.scrollViewTranslateY=0,c.gotoPageByIndex(a)):.2<Math.abs(c.scrollViewTranslateY/(c.size.height/2))?c.prepareToRemove():c.renderTransformTo(e.Point(c.scrollViewTranslateX,
0)),this.dragging=!1):c.doubleClickController(a);c.zoomingDrag=!1}var c=this,g=void 0,f=void 0,k=void 0,l=void 0,n=void 0,m=void 0,p=void 0,r=void 0,t=c.viewOfsetY,z=c.viewOfsetX,w=0,y=0,x=0;return function(a){c.zoomingPage=c.pageInFocus.isInScale?c.pageInFocus:void 0;q(c.animaSliderRender);g=c.currentItemIndex;a.preventDefault();a.originalEvent&&(a=a.originalEvent);if(!a.button||0===a.button){if(a.touches)if(!c.dragging&&1<a.touches.length){p=!0;var h=a.touches[0].pageX;var m=a.touches[0].pageY;
var u=a.touches[1].pageX;a=a.touches[1].pageY;r=Math.hypot(h-u,m-a);h+=(u-h)/2;m+=(a-m)/2;c.zoomingPage=c.pageInFocus;c.needHideControlls=c.isControllsShow;c.showControlls(!1)}else h=a.touches[0].pageX,m=a.touches[0].pageY;else h=a.pageX,m=a.pageY;h-=z;m-=t;y=w=c.speedX=c.speedY=0;x=c.scrollViewTranslateX;f=h;k=m;l=c.scrollViewTranslateX;n=c.scrollViewTranslateY;c.zoomingPage&&c.zoomingPage.startDrag(e.Point(f,k),r);e.is_touch_device&&(document.addEventListener("touchmove",b,v),document.addEventListener("touchend",
d,v));document.addEventListener("mousemove",b,!1);document.addEventListener("mouseup",d,!1);document.addEventListener("oncontextmenu",d,!1)}}},audioPlayerHandler:function(a){this.thumbsBar&&this.thumbsBar.changeAudioStatusForIndex(this.itemIndex,a)},createControlls:function(){function a(a){a.style.backgroundColor=f(d.appName).sliderNavigationIconColor;a.childNodes[0].style.stroke=f(d.appName).sliderNavigationColor}function b(a){a.style.backgroundColor=f(d.appName).sliderNavigationColor;a.childNodes[0].style.stroke=
f(d.appName).sliderNavigationIconColor}var d=this;this.prevButton=document.createElement("div");this.prevButton.className="sliderNextPrevButtons";this.prevButton.style.left="0px";this.prevButton.style.transform="translateX(-120%)";this.prevButton.style.backgroundColor=f(this.appName).sliderNavigationColor;this.prevButton.style.visibility="hidden";this.prevButton.innerHTML='<svg height="128px" id="Layer_1" style="enable-background:new 0 0 128 128;" version="1.1" viewBox="0 0 128 128" width="128px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="57.12" x2="17.787" y1="103.334" y2="64"/><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="17.787" x2="57.12" y1="64" y2="24.666"/></g><line style="stroke-width:12;stroke-miterlimit:10;" x1="17.787" x2="118.213" y1="64" y2="64"/></g></svg>';
this.prevButton.childNodes[0].style.stroke=f(this.appName).sliderNavigationIconColor;this.prevButton.onmouseover=function(){a(this)};this.prevButton.onmouseout=function(){b(this)};this.prevButton.onclick=function(){d.gotoPrev();e.Device.desktop||b(this)};this.view.appendChild(this.prevButton);this.nextButton=document.createElement("div");this.nextButton.className="sliderNextPrevButtons";this.nextButton.style.backgroundColor=f(this.appName).sliderNavigationColor;this.nextButton.style.right="0px";this.nextButton.style.transform=
"translateX(120%)";this.nextButton.style.visibility="hidden";this.nextButton.innerHTML='<svg height="128px" id="Layer_1" style="enable-background:new 0 0 128 128;" version="1.1" viewBox="0 0 128 128" width="128px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="70.88" x2="110.213" y1="24.666" y2="64"/><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="110.213" x2="70.88" y1="64" y2="103.334"/></g><line style="stroke-width:12;stroke-miterlimit:10;" x1="110.213" x2="9.787" y1="64" y2="64"/></g></svg>';
this.nextButton.childNodes[0].style.stroke=f(this.appName).sliderNavigationIconColor;this.nextButton.onmouseover=function(){a(this)};this.nextButton.onmouseout=function(){b(this)};this.nextButton.onclick=function(){d.gotoNext();e.Device.desktop||b(this)};this.view.appendChild(this.nextButton);f(this.appName).sliderThumbBarEnable&&(this.thumbsBar=new p(this),this.footer.appendChild(this.thumbsBar.view));this.view.appendChild(this.footer);this.view.appendChild(this.header);this.infoBox1=document.createElement("div");
this.infoBox1.className="fla_InfoBox1";this.header.appendChild(this.infoBox1);if(this.delegate.itemMenuConstructor){var c={};c.backgroundColor=f(this.appName).sliderThumbSubMenuBackgroundColor;c.backgroundColorOver=f(this.appName).sliderThumbSubMenuBackgroundColorOver;c.iconColor=f(this.appName).sliderThumbSubMenuIconColor;c.iconColorOver=f(this.appName).sliderThumbSubMenuIconHoverColor;this.itemMenu=this.delegate.itemMenuConstructor(this.delegate,e,c,!0)}this.buttonsBox=document.createElement("div");
this.buttonsBox.className="fla_InfoBox1";this.buttonsBox.style.float="right";this.buttonsBox.appendChild(this.itemMenu.view);this.header.appendChild(this.buttonsBox);this.closeButton=document.createElement("div");this.closeButton.setAttribute("type","close");this.closeButton.className="sliderItemsButtons";this.closeButton.innerHTML='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';
this.closeButton.style.backgroundColor=f(this.appName).sliderNavigationColor;this.closeButton.childNodes[0].style.fill=f(this.appName).sliderNavigationIconColor;this.buttonsBox.appendChild(this.closeButton);this.closeButton.onmouseover=function(){this.style.backgroundColor=f(d.appName).sliderNavigationIconColor;this.childNodes[0].style.fill=f(d.appName).sliderNavigationColor};this.closeButton.onmouseout=function(){this.style.backgroundColor=f(d.appName).sliderNavigationColor;this.childNodes[0].style.fill=
f(d.appName).sliderNavigationIconColor};this.closeButton.addEventListener("click",function(){this.parentNode==d.buttonsBox&&d.prepareToRemove()},!1);e.miniScreen&&(this.infoBox2=document.createElement("div"),this.infoBox2.className="fla_InfoBox1",this.infoBox2.style.width="100%",this.footer.appendChild(this.infoBox2),this.header.appendChild(this.buttonsBox),this.buttonsBox.style.float="none",this.infoBox1.style.float="none");this.titleItem=document.createElement("div");this.titleItem.className="fla_v2_ColectionSliderItemTitle";
this.titleItem.style.fontSize=f(this.appName).sliderItemTitleFontSize+"px";this.titleItem.style.color=f(this.appName).sliderItemTitleTextColor;e.miniScreen&&(this.titleItem.classList.add("fla_v2_ColectionSliderItemTitleMiniScreen"),this.titleItem.style.fontSize="20px",this.titleItem.style.borderBottom="solid 1px "+e.hexToRgbaStrin(f(this.appName).sliderNavigationIconColor,.3));this.infoBox1.appendChild(this.titleItem);this.titleTerm=document.createElement("div");this.titleTerm.className="fla_v2_ColectionSliderItemTitle";
this.titleTerm.style.fontSize=f(this.appName).sliderItemTitleFontSize/2+"px";this.titleTerm.style.color=e.hexToRgbaStrin(f(this.appName).sliderItemTitleTextColor,.7);this.titleTerm.classList.add("fla_v2_ColectionSliderTermTitle");e.miniScreen?(this.titleTerm.classList.add("fla_v2_ColectionSliderTermTitleMiniScreen"),this.titleTerm.style.fontSize="15px",this.infoBox2.appendChild(this.titleTerm)):(this.titleTerm.style.fontSize=f(this.appName).sliderItemTitleFontSize/2+"px",this.infoBox1.appendChild(this.titleTerm))},
fullscreenSwitch:function(a){e.toggleFullScreen(this.view)},switchShowControlls:function(){this.showControlls(!this.isControllsShow)},showControlls:function(a,b){this.isControllsShow!=a&&(b?(this.header.classList.add("fla_NoneTransition"),this.footer.classList.add("fla_NoneTransition"),this.prevButton.classList.add("fla_NoneTransition"),this.nextButton.classList.add("fla_NoneTransition")):(this.header.classList.remove("fla_NoneTransition"),this.footer.classList.remove("fla_NoneTransition"),this.prevButton.classList.remove("fla_NoneTransition"),
this.nextButton.classList.remove("fla_NoneTransition")),a?(this.header.classList.add("fla_v2_SlidesHeaderActivate"),this.footer.classList.add("fla_v2_SlidesFooterActivate"),this.prevButton.style.transform="translateX(0%)",this.nextButton.style.transform="translateX(0%)"):(this.header.classList.remove("fla_v2_SlidesHeaderActivate"),this.footer.classList.remove("fla_v2_SlidesFooterActivate"),this.prevButton.style.transform="translateX(-120%)",this.nextButton.style.transform="translateX(120%)"),this.isControllsShow=
a)},updateControlls:function(){3>this.itemsAmount?(this.prevButton.style.visibility=0==this.itemIndex?"hidden":"visible",this.nextButton.style.visibility=this.itemIndex==this.itemsAmount-1?"hidden":"visible",1==this.itemsAmount&&(this.prevButton.style.visibility="hidden",this.nextButton.style.visibility="hidden")):(this.prevButton.style.visibility="visible",this.nextButton.style.visibility="visible");var a=this.itemsList[this.itemIndex];a&&(this.titleItem.innerHTML=a.title?a.title:"",this.titleTerm.textContent=
this.itemIndex+1+" / "+this.itemsAmount,this.itemMenu&&this.itemMenu.updateForItem(a),this.thumbsBar&&this.thumbsBar.selectThumbByIndex(this.itemIndex),this.delegate.modal&&("info"==this.delegate.modal.type?f(this.appName).appEventManager.dispatchGMEvent(e.GMEvent("NEED_MODAL",this,{type:"info",item:a})):this.delegate.modal.prepareToRemove()),this.delegate.viewItem=a)},resizeHandler:function(){var a=this;this.resizeDelay&&clearTimeout(this.resizeDelay);this.resizeDelay=setTimeout(function(){a.size=
e.Size(a.view.clientWidth,a.view.clientHeight);410>a.size.height&&(a.showControlls(!1,!0),a.needHideControlls=!0);500>a.size.width?(a.prevButton.classList.add("sliderNextPrevButtonsMiniScreen"),a.nextButton.classList.add("sliderNextPrevButtonsMiniScreen")):(a.prevButton.classList.remove("sliderNextPrevButtonsMiniScreen"),a.nextButton.classList.remove("sliderNextPrevButtonsMiniScreen"));a.itemMenu&&a.itemMenu.resizeHandler();for(var b=0;b<a.sliderPages.length;b++)a.sliderPages[b].resize();a.gotoPageByIndex(a.currentItemIndex,
!0);a.thumbsBar&&a.thumbsBar.updateView()},200)}};return new m(l)};
